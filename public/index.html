<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Does one simply Divshot?</title>
  </head>
  <body>

    <h1>Setup</h1>

    <h2>Tools and environment</h2>

    <pre>
      npm install -g divshot-cli
      divshot login
    </pre>


    <h2>Repo setup</h2>

    <h3>Adding <code>divshot.json</code></h3>
    <p>

      <pre>
        divshot init
      </pre>

    </p>


    <h3> Travis CI setup</h3>

    <pre>
      touch .travis.yml
      divshot auth:token
      travis setup divshot
    </pre>

    <p>
      If you have some build steps you'll want to add <code>skip_cleanup: true</code> to the deployment section of the config.
    </p>

    <p>
      If you want per-branch environments, you can do something like:

      <pre>
        environment:
          master: development
          staging: staging
          production: production
      </pre>

      in the deployment section of <code>.travis.yml</code>
    </p>

    <h1>Deployment</h1>

    <h2>Local deployment</h2>

    <pre>
      divshot server
      open http://localhost:3474
    </pre>

    <p>
      This runs a local development server with configuration taken from <code>divshot.json</code>. So root paths and URL cleanups and such work in the same way as in production.
    </p>

    <p>
      Note that in order to use the API services, such as AJAX proxy and email, you need to isntall dependencies and specify them separately in commandline arguments.
    </p>

    <h2>Deploying to Divshot</h2>

    <pre>
      divshot deploy development
      open http://development.divshot-demo.divshot.io/
    </pre>


    <h1>Cool features</h1>


    <h2>Custom routing</h2>

    <p>
      You can point multiple paths to a single file, by specifying routes in <code>divshot.json</code>. This page only has a single file, so we can just route every url to the same file with:
    </p>

    <pre>
      "routes": {
        "/**": "index.html"
      }
    </pre>

    <p>
      So now a link to <a href="/no-way-this-page-exsists">/no-way-this-page-exsists</a> serves this same page.
    </p>

    <p>
      Of course we could just have user <code>error.html</code> for this trick. For more info on custom routings check out <a href="https://docs.divshot.com/guides/routing">https://docs.divshot.com/guides/routing</a>.
    </p>


  </body>
</html>
